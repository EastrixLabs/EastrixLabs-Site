---
import type { LucideIcon } from 'lucide-react';

interface Props {
  title: string;
  description: string;
  icon: LucideIcon;
  meta?: string;
  highlights?: string[];
  size?: 'xl' | 'lg' | 'md' | 'sm';
}

const { title, description, icon: Icon, meta, highlights = [], size = 'md' } = Astro.props;

const sizeClassMap: Record<NonNullable<Props['size']>, string> = {
  xl: 'xl:col-span-7 md:col-span-2',
  lg: 'xl:col-span-5',
  md: 'xl:col-span-4',
  sm: 'xl:col-span-3',
};

const baseClasses =
  'reveal-card min-w-0 rounded-2xl border border-slate-200 bg-gradient-to-br from-white to-amber-50 p-4 transition-transform duration-200 ease-out hover:-translate-y-0.5 hover:border-slate-300';

const sizeClasses = sizeClassMap[size];
---

<article class={`${baseClasses} ${sizeClasses}`}>
  <div
    class="inline-grid h-8 w-8 place-items-center rounded-lg border border-teal-200 bg-gradient-to-br from-teal-100 to-teal-200 text-slate-800"
    aria-hidden="true"
  >
    <Icon size={20} strokeWidth={1.9} aria-hidden="true" focusable="false" />
  </div>
  <h3 class="mt-4 text-xl font-semibold leading-tight text-balance text-slate-900">{title}</h3>
  {meta && <p class="mt-1 text-xs font-semibold uppercase tracking-wider text-teal-700">{meta}</p>}
  <p class="mt-2 text-sm text-slate-600">{description}</p>
  {highlights.length > 0 && (
    <ul class="mt-3 flex list-none flex-wrap gap-2 p-0">
      {
        highlights.map((highlight) => (
          <li class="inline-flex min-h-8 items-center rounded-full border border-slate-300 bg-white px-3 py-1 text-xs text-slate-700">
            {highlight}
          </li>
        ))
      }
    </ul>
  )}
</article>
